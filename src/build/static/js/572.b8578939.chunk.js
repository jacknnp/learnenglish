"use strict";(self.webpackChunkDynonary=self.webpackChunkDynonary||[]).push([[572],{88428:function(n,e,t){var r=t(62944),a={getWordPackTotal:function(n){return r.Z.get("".concat("/common","/word-pack/total"),{params:{packInfo:JSON.stringify(n)}})}};e.Z=a},43572:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r=t(93433),a=t(74165),s=t(15861),c=t(29439),o=t(88428),i=t(41350),u=t(22537),l=t(4081),d=t(42997),f=t(72791),h=t(1413),p=t(74368),v=t(79965),x=t(5420),Z=t(30313),m=t(63086),j=t(43115),g=t(23316),k=t(80184);function S(n){var e=n.classNameIcon,t=n.onChoose,r=(0,f.useState)(!1),a=(0,c.Z)(r,2),s=a[0],o=a[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.Z,{className:e,onClick:function(){return o(!0)}}),s&&(0,k.jsx)(g.Z,{open:s,onCancel:function(){return o(!1)},onChoose:function(n){t(n),o(!1)}})]})}S.defaultProps={onChoose:function(){}};var y=S,C=t(93963),N=t(45952);function T(n){var e=n.list,t=n.loading,r=n.onLoadData,a=n.more,s=n.isFirstLoad,c=n.onSettingWordPack,o=n.onSortTypeChange,i=n.onSearchWord,u=n.isTOEIC,l=(0,N.Z)();return(0,k.jsxs)("div",{className:"".concat(l.root," dyno-container"),children:[(0,k.jsxs)("div",{className:"flex-center-between",children:[(0,k.jsx)("h1",{className:"dyno-title",children:"T\u1eeb \u0111i\u1ec3n Dynonary"}),(0,k.jsxs)("div",{children:[(0,k.jsx)(Z.Z,{onSelect:o,classNameIcon:"dyno-setting-icon mr-5"}),!u&&(0,k.jsx)(y,{onChoose:c,classNameIcon:"dyno-setting-icon"})]})]}),(0,k.jsx)("div",{className:"dyno-break"}),(0,k.jsxs)("div",{className:l.contentWrap,children:[(0,k.jsx)(v.Z,{disabled:t,onSearch:i}),(0,k.jsx)("div",{className:"".concat(l.listWrap," w-100"),children:(0,k.jsx)("ul",{id:"dictionaryId",className:"".concat(l.list," flex-col w-100"),children:(0,k.jsx)(k.Fragment,{children:s?(0,k.jsx)(C.Z,{className:l.skeleton}):(0,k.jsx)(k.Fragment,{children:e&&e.length>0?(0,k.jsxs)(k.Fragment,{children:[e.map((function(n,e){return(0,k.jsx)("li",{className:l.listItem,children:(0,k.jsx)(m.Z,(0,h.Z)({},n))},e)})),!t&&a&&(0,k.jsx)(x.Z,{onTouchAnchor:r,threshold:1,children:(0,k.jsx)("div",{className:"w-100 t-center",children:(0,k.jsx)(p.Z,{className:"ani-spin"})})})]}):(0,k.jsx)("h3",{className:"notfound-title h-100 flex-center t-center",children:"Kh\xf4ng t\xecm th\u1ea5y t\u1eeb n\xe0o trong t\u1eeb \u0111i\u1ec3n"})})})})})]})]})}T.defaultProps={list:[],loading:!1,more:!0,isFirstLoad:!0,isTOEIC:!1,onLoadData:function(){},onSearchWord:function(){},onSettingWordPack:function(){},onSortTypeChange:function(){}};var I=T;function w(n){var e=n.isTOEIC,t=(0,f.useState)(1),h=(0,c.Z)(t,2),p=h[0],v=h[1],x=(0,f.useState)("rand"),Z=(0,c.Z)(x,2),m=Z[0],j=Z[1],g=(0,f.useState)((function(){return{type:"-1",level:"-1",specialty:"-1",topics:e?[l.fE]:[]}})),S=(0,c.Z)(g,2),y=S[0],C=S[1],N=(0,f.useState)(!0),T=(0,c.Z)(N,2),w=T[0],E=T[1],W=(0,f.useState)([]),b=(0,c.Z)(W,2),O=b[0],L=b[1],P=(0,f.useState)(!0),F=(0,c.Z)(P,2),D=F[0],R=F[1],A=(0,f.useState)(!0),J=(0,c.Z)(A,2),K=J[0],M=J[1],q=(0,f.useRef)(0),z=(0,f.useRef)([]),B=function(){var n=(0,s.Z)((0,a.Z)().mark((function n(e){var t,r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,""!==e){n.next=5;break}return L(z.current),R(!0),n.abrupt("return");case 5:return n.next=7,i.Z.getSearchWord(e);case 7:200===(t=n.sent).status&&(r=t.data.packList,L(void 0===r?[]:r),R(!1)),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();return(0,f.useEffect)((function(){var n=!0;return(0,s.Z)((0,a.Z)().mark((function e(){var t,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.getWordPackTotal(y);case 3:200===(t=e.sent).status&&n&&(r=t.data.total,s=void 0===r?0:r,q.current=Math.ceil(s/20)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))(),function(){return n=!1}}),[y]),(0,f.useEffect)((function(){var n=!0;return(0,s.Z)((0,a.Z)().mark((function e(){var t,s,c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,i.Z.getWordList(p,20,y,m);case 4:200===(t=e.sent).status&&n&&(s=t.data.packList,c=void 0===s?[]:s,o=[].concat((0,r.Z)(O),(0,r.Z)(c)),z.current=o,L(o)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,n&&(E(!1),K&&M(!1)),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))(),function(){return n=!1}}),[p,y,m]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(I,{isTOEIC:e,list:O,loading:w,onLoadData:function(){p<q.current?v(p+1):R(!1)},more:D,isFirstLoad:K,onSettingWordPack:function(n){var e=!0;for(var t in y)if("topics"!==t&&y[t]!==n[t]){e=!1;break}e&&(e=(0,d.Sk)(y.topics,n.topics)),q.current=0,z.current=[],R(!0),L([]),C(n),v(1)},onSortTypeChange:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rand";n!==m&&(z.current=[],j(n),v(1),L([]))},onSearchWord:B}),(0,k.jsx)(u.Z,{})]})}w.defaultProps={isTOEIC:!1};var E=w,W=t(1382),b=t(56647);function O(n){var e=n.isTOEIC;return(0,b.Z)(e?"T\u1eeb v\u1ef1ng TOEIC":"T\u1eeb \u0111i\u1ec3n"),(0,W.Z)(),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)(E,{isTOEIC:e})})}O.defaultProps={isTOEIC:!1};var L=O}}]);
//# sourceMappingURL=572.b8578939.chunk.js.map